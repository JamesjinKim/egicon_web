# PRD V2: OLED 제조공장 디지털 트윈 모니터링 시스템

## 📋 제품 요구사항 문서 (Product Requirements Document)

**버전**: V2.0  
**작성일**: 2025-07-08  
**대상 시스템**: EG-ICON 디지털 트윈 대시보드  
**목적**: OLED 제조공장 디지털 트윈 구현 및 예지 보전 시스템  

---

## 🎯 제품 비전 (Product Vision)

### 핵심 목표
OLED 제조공장의 **디지털 트윈(Digital Twin)**을 구현하여 실시간 공정 모니터링과 예지 보전을 통한 스마트 팩토리 구축

### 비전 선언문
> "센서 기반 오감 신경망을 통해 OLED 제조공장 전체를 디지털 세계에 복제하고, 실시간 상태 모니터링과 AI 기반 예지 보전으로 최적화된 생산 환경을 제공한다."

---

## 🏭 시스템 개요

### 1. 디지털 트윈 아키텍처
```
물리적 OLED 제조공장 (Physical Factory)
         ↕️ (실시간 데이터 동기화)
디지털 트윈 시스템 (Digital Twin System)
         ↓
┌─────────────────────────────────────────────────────────────┐
│                    디지털 트윈 계층                             │
├─────────────────────────────────────────────────────────────┤
│ 📊 예지 보전 AI 계층                                           │
│   - 고장 예측 모델                                             │
│   - 성능 최적화 알고리즘                                         │
│   - 품질 관리 시스템                                            │
├─────────────────────────────────────────────────────────────┤
│ 🏭 공정별 모니터링 계층                                         │
│   - 증착 공정 (Deposition)                                   │
│   - 포토 공정 (Photo)                                        │
│   - 식각 공정 (Etch)                                         │
│   - 봉지 공정 (Encapsulation)                                │
│   - 검사 공정 (Inspection)                                   │
├─────────────────────────────────────────────────────────────┤
│ 🧠 센서 오감 신경망 계층                                         │
│   - 환경 센서 (온도, 습도, 기압)                                 │
│   - 미세먼지 센서 (청정도 관리)                                   │
│   - 진동 센서 (장비 상태)                                       │
│   - 조도 센서 (조명 환경)                                       │
│   - 차압 센서 (공기 흐름)                                       │
└─────────────────────────────────────────────────────────────┘
```

### 2. 오감 신경망 시스템
각종 센서들을 디지털 트윈의 **오감 신경망**으로 정의:

| 오감 영역 | 센서 유형 | 모니터링 대상 | 예지 보전 기능 |
|-----------|-----------|---------------|----------------|
| **시각** | 조도센서 (BH1750) | 작업 환경 조명 | 조명 수명 예측 |
| **촉각** | 진동센서 (IIS3DWB) | 장비 상태 | 장비 고장 예측 |
| **후각** | 미세먼지센서 (SPS30) | 공기 청정도 | 필터 교체 시기 |
| **온감** | 온습도센서 (SHT40, BME688) | 환경 제어 | 환경 이상 감지 |
| **압감** | 차압센서 (SDP810) | 공기 흐름 | 덕트 막힘 감지 |

---

## 🔧 핵심 기능 요구사항

### 1. 메인 대시보드 (Factory Overview)
**목적**: 전체 공장의 거시적 상태와 종합 정보 제공

#### 기능 명세
- **공장 설계도면 기반 레이아웃**
  - 2D 공장 평면도 배치
  - 공정별 위치 시각화
  - 실시간 상태 표시 (색상 코딩)
  
- **전체 공장 KPI 대시보드**
  - 생산 효율성 지표
  - 장비 가동률 (OEE)
  - 품질 지표 (수율, 불량률)
  - 에너지 소비량
  
- **종합 환경 모니터링**
  - 외부 환경 조건
  - 공정별 환경 요약
  - 이상 상황 알림

#### UI 요구사항
```
┌─────────────────────────────────────────────────────────────┐
│                  🏭 OLED 제조공장 디지털 트윈                    │ 
├─────────────────────────────────────────────────────────────┤
│ 📊 공장 전체 KPI                                              │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐              │
│ │생산효율   │ │장비가동률  │ │품질지표   │ │에너지     │              │
│ │  92.3%  │ │  85.7%  │ │  98.1%  │ │2,450kW  │              │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘              │
├─────────────────────────────────────────────────────────────┤
│ 🗺️ 공장 평면도 (실시간 상태 표시)                                  
│ ┌─────────────────────────────────────────────────────────┐  │
│ │   [증착실]    [포토실]    [식각실]    [봉지실]                 │  │
│ │     🟢         🟢         🟡         🟢                │  │
│ │   ▼센서160개    ▼센서140개    ▼센서80개    ▼센서30개           │  │
│ │                                                         │  │
│ │   [검사실]    [패키징]    [출하]                            │  │
│ │     🟢         🟢         🟢                           │  │
│ │   ▼센서150개    ▼센서20개    ▼센서100개                      │  │
│ └─────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 2. 공정별 모니터링 시스템
**목적**: 각 공정의 세부 상태 모니터링 및 예지 보전

#### 공정 분류
1. **증착 공정 (Deposition Process)**
   - 유기물 증착 환경 관리
   - 온도, 습도, 진공도 모니터링
   - 장비 진동 상태 추적

2. **포토 공정 (Photo Process)**
   - 포토레지스트 코팅 환경
   - 조도 및 온도 관리
   - 미세먼지 제어

3. **식각 공정 (Etch Process)**
   - 화학적 식각 환경
   - 가스 농도 및 온도 모니터링
   - 안전 환경 관리

4. **봉지 공정 (Encapsulation Process)**
   - 밀봉 환경 관리
   - 습도 제어
   - 접착제 경화 온도 모니터링

5. **검사 공정 (Inspection Process)**
   - 광학 검사 환경
   - 조도 균일성 관리
   - 진동 최소화

#### 공정별 기능
- **실시간 센서 데이터 모니터링**
- **공정 파라미터 트렌드 분석**
- **이상 상황 감지 및 알림**
- **예지 보전 예측 정보**

### 3. 사이드바 내비게이션 시스템
**목적**: 공정별 빠른 접근 및 상태 확인

#### 메뉴 구조
```
📂 메인 대시보드 (Home)
├── 🏭 공장 전체 현황
├── 📊 종합 KPI
└── 🗺️ 공장 평면도

📂 증착 공정 (Deposition)
├── 🌡️ 온도 관리
├── 💧 습도 제어
├── 📳 진동 모니터링
└── 🔮 예지 보전

📂 포토 공정 (Photo)
├── ☀️ 조도 관리
├── 🌡️ 온도 제어
├── 💨 미세먼지 관리
└── 🔮 예지 보전

📂 식각 공정 (Etch)
├── 🌡️ 온도 모니터링
├── 💨 가스 농도
├── 🛡️ 안전 관리
└── 🔮 예지 보전

📂 봉지 공정 (Encapsulation)
├── 💧 습도 제어
├── 🌡️ 경화 온도
├── 📏 차압 관리
└── 🔮 예지 보전

📂 검사 공정 (Inspection)
├── ☀️ 조도 균일성
├── 📳 진동 제어
├── 🌡️ 환경 안정성
└── 🔮 예지 보전

📂 시스템 관리
├── ⚙️ 센서 설정
├── 📊 데이터 분석
├── 🚨 알림 설정
└── 📈 리포트
```

---

## 🎨 UI/UX 요구사항

### 1. 디자인 원칙
- **산업용 디자인**: 명확하고 직관적인 정보 전달
- **색상 코딩**: 상태별 일관된 색상 체계
- **반응형 레이아웃**: 다양한 화면 크기 지원
- **실시간 업데이트**: 부드러운 애니메이션과 즉각적 피드백

### 2. 색상 체계
```
🟢 정상 (Normal): #28a745
🟡 주의 (Warning): #ffc107
🔴 위험 (Critical): #dc3545
🔵 정보 (Info): #17a2b8
⚫ 비활성 (Inactive): #6c757d
```

### 3. 정보 계층 구조
```
Level 1: 전체 공장 상태 (거시적)
Level 2: 공정별 상태 (중간)
Level 3: 센서별 상세 정보 (미시적)
```

---

## 🔍 예지 보전 기능 요구사항

### 1. 예측 모델
- **장비 고장 예측**: 진동, 온도 패턴 분석
- **품질 이상 예측**: 환경 변수 상관관계 분석
- **유지보수 시기 예측**: 센서 데이터 기반 생명 주기 분석

### 2. 알림 시스템
- **실시간 알림**: 즉시 대응 필요 상황
- **예측 알림**: 향후 발생 가능한 문제
- **정기 리포트**: 일/주/월 단위 분석 보고서

### 3. 대시보드 통합
- **예지 보전 위젯**: 각 공정 페이지에 통합
- **예측 정확도 표시**: 모델 신뢰도 정보
- **권장 조치 사항**: 구체적인 대응 방안 제시

---

## 📊 데이터 요구사항

### 1. 실시간 데이터 수집
- **수집 주기**: 1초 간격
- **데이터 압축**: 효율적 저장 및 전송
- **데이터 품질 관리**: 이상치 검출 및 보정

### 2. 히스토리 데이터 관리
- **단기 저장**: 1개월 (상세 데이터)
- **장기 저장**: 1년 (요약 데이터)
- **백업 및 복구**: 자동화된 백업 시스템

### 3. 분석 플랫폼 연동
- **API 제공**: RESTful API 및 GraphQL
- **데이터 익스포트**: CSV, JSON 형식 지원
- **외부 시스템 연동**: MES, ERP 시스템 연계

---

## 🚀 개발 우선순위

### Phase 1: 기본 디지털 트윈 구축 (4주)
1. 메인 대시보드 공장 평면도 구현
2. 공정별 사이드바 내비게이션
3. 센서 데이터 실시간 수집 및 표시
4. 기본 상태 모니터링 기능

### Phase 2: 공정별 모니터링 시스템 (6주)
1. 5개 공정별 상세 대시보드 구현
2. 공정별 센서 그룹 관리
3. 실시간 차트 및 트렌드 분석
4. 알림 시스템 기본 구현

### Phase 3: 예지 보전 시스템 (8주)
1. 기계학습 모델 개발
2. 예측 알고리즘 구현
3. 예지 보전 대시보드 통합
4. 정확도 검증 및 최적화

### Phase 4: 고도화 및 최적화 (4주)
1. 성능 최적화
2. 고급 분석 기능
3. 리포트 시스템
4. 모바일 최적화

---

## 📋 기술 스택

### Backend
- **Framework**: FastAPI (Python)
- **Database**: InfluxDB (시계열 데이터)
- **Cache**: Redis
- **ML Framework**: TensorFlow/PyTorch
- **Message Queue**: RabbitMQ

### Frontend
- **Framework**: HTML5 + JavaScript ES6+
- **Charts**: Chart.js + D3.js
- **UI Library**: Bootstrap 5
- **Real-time**: WebSocket

### Infrastructure
- **Container**: Docker
- **Orchestration**: Kubernetes
- **Monitoring**: Prometheus + Grafana
- **CI/CD**: Jenkins

---

## 🎯 성공 지표 (KPI)

### 1. 기술적 지표
- **시스템 가용률**: 99.9% 이상
- **응답 시간**: 1초 이내
- **데이터 정확도**: 99.5% 이상
- **예측 정확도**: 85% 이상

### 2. 사용자 지표
- **사용자 만족도**: 4.5/5.0 이상
- **시스템 활용도**: 일 8시간 이상
- **의사결정 지원**: 일 평균 10건 이상

### 3. 비즈니스 지표
- **생산 효율성 향상**: 5% 이상
- **장비 가동률 개선**: 3% 이상
- **유지보수 비용 절감**: 20% 이상

---

## 📝 결론

V2 OLED 제조공장 디지털 트윈 시스템은 기존 V1.1의 단순한 센서 모니터링에서 발전하여, 공정별 통합 관리와 예지 보전 기능을 제공하는 스마트 팩토리 솔루션으로 진화합니다.

**핵심 가치 제안**:
1. 실시간 공정 모니터링을 통한 운영 효율성 극대화
2. 예지 보전을 통한 장비 다운타임 최소화
3. 데이터 기반 의사결정 지원으로 품질 향상
4. 직관적인 UI/UX로 사용자 경험 개선

이를 통해 OLED 제조공장의 디지털 전환을 선도하고, 경쟁력 있는 스마트 제조 환경을 구축할 수 있습니다.

---

**문서 승인**:
- 기술 검토: [ ]
- 사용자 검토: [ ]
- 최종 승인: [ ]

**다음 단계**: 상세 기술 명세서 작성 및 개발 계획 수립

V2 Main Dashboard UI 개선 요청 사항 
├─────────────────────────────────────────────────────────────┤
│ 🗺️ 공장 평면도 (실시간 상태)                                      |
│ ┌─────────────────────────────────────────────────────────┐  │
│ │   [증착실]    [포토실]    [식각실]     [봉지공정]              │  │
│ │     🟢         🟢         🟡         🟢                │  │
│ │   ▼센서10개    ▼센서40개    ▼센서80개    ▼센서30개            │  │
│ │                                                        │  │
│ │   [검사실]    [패키징]    [출하]                            │  │
│ │     🟢         🟢         🟢                           │  │
│ │   ▼센서50개    ▼센서20개    ▼센서10개                        │  │
│ └─────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘


┌──────────────┐
│              |
│  [봉지공정]    |   
│              |
│              |
└──────────────┘ 

┌──────────────┐
│              |
│  [출하공정]    |   
│              |
│              |
└──────────────┘ 

